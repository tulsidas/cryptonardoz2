<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>FLISoL CABA 2016 - introducci√≥n a la criptograf√≠a</title>

		<meta name="description" content="Introducci√≥n a la criptograf√≠a">
		<meta name="author" content="AndresQ">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/night.css" id="theme">
		<style type="text/css">
			.yellow { color: yellow; }
			.red { color: red; }
			.green { color: green; }
		</style>
	</head>

	<body>
		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>FLISoL CABA 2016</h1>
					<h2>introducci√≥n a la criptograf√≠a</h2>
				</section>

				<section>
					<h1>MD5 AES DES RC4 RSA XOR MAC SHA DHE DSA PKI SSL TLS</h1>
				</section>

				<section>
					<img src="img/nocomprende.jpg" height="600" />
				</section>

				<section>
					<h2>criptograf√≠a</h2>
					<p class="fragment yellow">confidencialidad</p>
					<p class="fragment yellow">integridad</p>
					<p class="fragment yellow">autenticaci√≥n</p>
					<div class="fragment">
						<p><small>validaci√≥n</small></p>
						<p><small>certificaci√≥n</small></p>
						<p><small>no repudio</small></p>
						<p><small>timestamping</small></p>
						<p><small>etc...</small></p>
					</div>
				</section>

				<section>
					<h1>confidencialidad</h1>
					<img src="img/alicebob.png" />
				</section>

				<section>
					<h1>confidencialidad</h1>
					<pre><span class="red">c</span> = E<sub>k</sub>(<span class="green">m</span>)</pre>
					<pre><span class="green">m</span> = D<sub>k</sub>(<span class="red">c</span>)</pre>
					<pre class="fragment"><span class="green">m</span> = D<sub>k</sub>(E<sub>k</sub>(<span class="green">m</span>))</pre>
				</section>

				<section>
					<h2>Principio de Kerckhoffs</h2>
					<blockquote>
						Un sistema criptogr√°fico debe ser seguro incluso si el atacante conoce todos los detalles del mismo, a excepci√≥n de la clave secreta.
					</blockquote>
				</section>

				<section>
					<h1>Historia</h1>
				</section>

				<section>
					<h2>Cifrado de C√©sar</h2>

					<p>alias ROT-3</p>

					<div class="fragment">
						<br/>
						<pre> a b c d e f g h i j k l m n o p q r s t u v w x y z </pre>
						<pre> D E F G H I J K L M N O P Q R S T U V W X Y Z A B C </pre>
					</div>

					<br/>
					<p class="fragment">ROT-N para 1 ‚â§ n ‚â§ 26</p>
				</section>

				<section>
					<h2>Sustituci√≥n monoalfab√©tica</h2>
					<div class="fragment">
						<pre> a b c d e f g h i j k l m n o p q r s t u v w x y z </pre>
						<pre> R Q O A F C J T N E M Z U S D K V L Y X P G H W B I </pre>
					</div>
					<div class="fragment">
						<br/>
						<p>m√°s f√°cil: frase o palabra clave + resto del alfabeto (opcionalmente rotado)</p>
						<pre> a b c d e f g h i j k l m n o p q r s t u v w x y z </pre>
						<pre><span class="green">M U R C I E L A G O</span> B D F H J K N P Q S T <span class="yellow">V W X Y Z</span></pre>
					</div>
					<p class="fragment">clave: permutaci√≥n del alfabeto</p>
					<p class="fragment">tama√±o de la clave: 26! ‚âà 4√ó10<sup><small>26</small></sup> ‚âà 2<sup><small>88</small></sup></p>
					<p class="fragment"><span class="red">fuerza bruta: muy dif√≠cil</span> (hoy)</p>
				</section>

				<section>
					<h2><em>side attack</em></h2>
					<p class="fragment">~1200 dc &mdash; frecuencias de letras (√°rabes)</p>
					<p class="fragment">an√°lisis de frecuencias del texto cifrado</p>
					<p class="fragment"><img src="img/frecuencia.png" height="350" width="546"/></p>
					<p class="fragment"><strong>variantes</strong>: nulls, m√°s de un s√≠mbolo por letra, s√≠mbolos especiales, etc...</p>
				</section>

				<section>
					<h2>Sustituci√≥n polialfab√©tica</h2>
					<p class="fragment"><img src="img/vigenere.gif" height="300"/></p>
					<pre class="fragment"><span class="yellow">CRIPTO</span>CRIPTOCRIPTOCRIPTOCRIPTOCRIP</pre>
					<pre class="fragment">ayayayaycantaynollorescielitolindo</pre>
					<pre class="fragment"><span class="yellow">CP</span>INTM<span class="yellow">CP</span>KPGH<span class="yellow">CP</span>VDEZQIMHVWGCQIHZKELD</pre>
					<p class="fragment">¬°chau frecuencias!</p>
					<p class="fragment"><em>le chiffre ind√©chiffrable</em></p>
				</section>

				<section>
					<h2>Vig√®nere</h2>
					<p class="fragment">Clave corta &rarr; se decripta f√°cil (Charles Babbage)</p>
					<p class="fragment">Clave larga &rarr; se decripta no tan f√°cil</p>
					<p class="fragment">¬øY si la clave es m√°s larga?</p>
					<p class="fragment">¬øY si la clave es <strong>muy</strong> larga?</p>
					<p class="fragment">¬øY si la clave es <span style="font-size: 72px; color: #80A0C0">tan larga como el texto</span>?</p>
				</section>

				<section>
					<h1>one time pad</h1>
					<img class="fragment" src="img/HOLY-GRAIL.png" style="background: none; border: none"/>
					<pre class="fragment">cifrado = clave + texto (mod 26)</pre>
				</section>

				<section>
					<h2>one time pad</h2>
					<p style="color: #80A0C0">texto</p>
					<pre>elenemigoescobra</pre>
					<p style="color: #80A0C0">pad (clave)</p>
					<pre>UMLKLNGLEDFXYOOM</pre>
					<p style="color: #80A0C0">cifrado</p>
					<pre style="color: orange">YXPXPZORSHXZMPFM</pre>
					<br/>
					<p class="fragment">random + one time = <em class="yellow">perfect secrecy</em></p>
				</section>

				<section>
					<h2>one time pad</h2>
					<p>supongamos interceptamos el mensaje cifrado</p>
					<pre style="color: orange">YXPXPZORSHXZMPFM</pre>
					<p class="fragment">18 letras: 26<sup><small>18</small></sup> ‚âà 3√ó10<sup><small>25</small></sup> ‚âà 2<sup><small>85</small></sup> </p>
					<p class="fragment">pruebo todas las claves posibles</p>
					<p class="fragment"><strong><em>indescifrable incluso con poder computacional ilimitado</em></strong></p>
					<pre class="fragment">‚àÄ x ‚àà {a,z}<sup>n</sup> ‚àÉ pad <em>k</em> ‚àà {a,z}<sup>n</sup> / k ‚äï c = x </pre>
					<p class="fragment">o sea: puedo obtener <em>cualquier</em> texto</p>
				</section>

				<section>
					<h1>FIN</h1>
					<h3>¬°Muchas gracias!</h3>
					<br/>
					<h2>¬ø ?</h2>
					<p> Andres Quijano / <a href="http://twitter.com/quixote_arg">@quixote_arg</a> </p>
				</section>

				<section>
					<h1>¬øFIN? ‚òπ</h1>
					<p class="fragment">(verdaderamente) aleatorio = <span class="red">dif√≠cil</span></p>
					<p class="fragment">one-time = <span class="red">dif√≠cil</span></p>
					<p class="fragment">distribuci√≥n de claves = <span class="red">dif√≠cil</span></p>
					<p class="fragment"><br/>en la pr√°ctica es poco usado</span></p>
				</section>

				<section>
					<h2>Stream ciphers</h2>
					<p>
						Dada <em>semilla</em> corta <code>k</code>, generar <strong class="yellow">keystream pseudoaleatorio</strong> (infinito) <code>ks</code> y luego hacer s√≠mil one time pad: <code>ks ‚äï m</code>
					</p>
					<pre class="fragment">k = password1234</pre>
					<pre class="fragment">ks(k) = 32672e912985ef5c598149f9c31666e1aa34cfae.....</pre>
					<p class="fragment"><br/>como <code>ks</code> es <em>pseudoaleatorio</em>, no hay perfect secrecy</p>
				</section>

				<section>
					<h2>Stream ciphers actuales</h2>
					<p>RC4, Salsa20, SOSEMANUK</p>
					<p>eStream (familia)</p>
				</section>

				<section>
					<h2>Block ciphers</h2>
					<div class="fragment">
						<p>encriptan de a bloques (tama√±o fijo)</p>
						<img src="img/blockcipherencrypt.png" />
					</div>
				</section>

				<section>
					<h2>Block ciphers actuales</h2>
					<p>RC6, Twofish, Camellia, AES <span style="color: #FB930D">(rijndael)</span></p>
					<p><code>b = 128, k = 128 / 192 / 256</code></p>
				</section>

				<section>
					<h2>AES</h2>
					<img src="img/aes.png" />
				</section>

				<section>
					<h2>Block ciphers</h2>
					<p>modus operandi</p>
					<br/>
					<ul>
						<li>electronic codebook<code>(ECB)</code></li>
						<li>cipher block chaining<code>(CBC)</code></li>
						<li>output feedback<code>(OFB)</code></li>
						<li>cipher feedback<code>(CFB)</code></li>
						<li>counter<code>(CTR)</code></li>
						<li>Galois counter<code>(GCM)</code></li>
					</ul>
				</section>

				<section>
					<h2><code>ECB</code></h2>
					<img src="img/ECB.png" style="background-color: white"/>
					<div class="red"><em>por norma general, no usar</em></div>
				</section>

				<section>
					<h2><code>ECB</code></h2>
					<img src="img/Tux.jpg" class="fragment" />
					<img src="img/Tux_secure.jpg" class="fragment" />
					<img src="img/Tux_ecb.jpg" class="fragment" />
				</section>

				<section>
					<h2><code>CBC</code></h2>
					<img src="img/CBC.png" style="background-color: white"/>
				</section>

				<section>
					<h2><code>CTR</code></h2>
					<img src="img/CTR.png" style="background-color: white"/>
				</section>

				<section>
					<h2>distribuci√≥n de claves = dif√≠cil</h2>
				</section>

				<section>
					<h2>Diffie-Hellman (1976)</h2>
					<p class="fragment"><em>asumamos <code>+</code> es f√°cil, <code>-</code> es imposible</em></p>
					<p class="fragment"><code>n=49</code> (de p√∫blico conocimiento)</p>
					<pre class="fragment">Alicia               Eva             Beto   </pre>
					<pre class="fragment"> s=rnd()=17                      t=rnd()=23  </pre>
					<pre class="fragment"> n+s=66                            n+t=72 </pre>
					<pre class="fragment">      &rarr; n+s               &larr; n+t  </pre>
					<pre class="fragment">  k=(n+t)+s=89                 k=(n+s)+t=89  </pre>
					<pre class="fragment">              (n+s) & (n+t)                </pre>
					<pre class="fragment">             (n+s+t) = ???               </pre>
					<p class="fragment">¬°Victoria!<br/> Alicia y Beto comparten <code>k=89</code> y Eva no lo sabe</p>
				</section>

				<section>
					<h2>Diffie-Hellman (1976)</h2>
					<pre>&alpha;, p conocidos</pre>
					<pre>Alice               Eve              Bob   </pre>
					<pre>a ‚àà {1..p-1}                    b ‚àà {1..p-1} </pre>
					<pre>A=&alpha;<sup>a</sup> mod p                      B=&alpha;<sup>b</sup> mod p</pre>
					<pre>           A &rarr;                &larr; B              </pre>
					<pre>k=B<sup>a</sup>=(&alpha;<sup>a</sup>)<sup>b</sup> = &alpha;<sup>ab</sup>                              </pre>
					<pre>                               k=A<sup>b</sup>=(&alpha;<sup>b</sup>)<sup>a</sup> = &alpha;<sup>ab</sup></pre>
					<pre>               ???               </pre>
				</section>

				<section>
					<h2>criptograf√≠a asim√©trica (clave p√∫blica)</h2>
					<h3 class="fragment"><code>(
						<span class="green"> k<sub>pub</sub> </span>,
						<span class="red"> k<sub>pr</sub> </span>
						)</code>
					</h3>
					<p class="fragment"><img src="img/open_padlock.jpg" height="250px"/>&nbsp;&nbsp;&nbsp;<img src="img/key1.jpg" /></p>
					<pre class="fragment">D(<span class="green">k<sub>pub</sub></span>, E(<span class="green">k<sub>pub</sub></span>, m)) = <span class="fragment">üí£</span></pre>
					<pre class="fragment">D(<span class="red">k<sub>pr</sub></span>, E(<span class="green">k<sub>pub</sub></span>, m)) = <span class="fragment">m</span></pre>
				</section>

				<section>
					<h2>criptograf√≠a asim√©trica (clave p√∫blica)</h2>
					<p class="fragment">~1000x m√°s lentos que algoritmos sim√©tricos</p>
					<img class="fragment" src="img/pk-keys.png" />
					<p>
						<span class="fragment"><code class="yellow">RSA</code>: factorizaci√≥n de primos</span>
						<span class="fragment"><code class="yellow">DL</code>: logaritmo discreto</span>
						<span class="fragment"><code class="yellow">ECC</code>: curva el√≠ptica</span>
					</p>
					<p class="fragment"><code>¬øP=NP?</code> <span class="fragment">¬°computadoras cu√°nticas!</span></p>
				</section>

				<section>
					<h2>criptograf√≠a asim√©trica (clave p√∫blica)</h2>
					<p class="fragment"><br/><strong>Sistemas H√≠bridos</strong>: encriptaci√≥n asim√©trica <code>(RSA/ElGamal)</code> para intercambio de claves, sim√©trica <code>(AES)</code> para los mensajes</p>
				</section>

				<section>
					<h2>public key criptography</h2>
					<h3><code>(
						<span class="green"> k<sub>pub</sub> </span>,
						<span class="red"> k<sub>pr</sub> </span>
						)</code>
					</h3>
					<pre> D(<span class="red">k<sub>pr</sub></span>, E(<span class="green">k<sub>pub</sub></span>, m)) = m</pre>
					<p class="fragment"><br/>pero tambi√©n...</p>
					<pre class="fragment">D(<span class="green">k<sub>pub</sub></span>, E(<span class="red">k<sub>pr</sub></span>, m)) = <span class="fragment">m</span></pre>
					<p class="fragment"><br/><em>firma digital</em></p>
				</section>

				<section>
					<img src="img/tls.png" />
					<p class="fragment">AES_128_GCM: AES, k=128 bits, Galois Counter Mode</p>
					<p class="fragment">ECDHE_RSA = Elliptic Curve Diffie-Hellman Exchange, (firmado con) RSA</p>
				</section>

				<section>
					<h1>integridad</h1>
					<p class="fragment">no me toqueteen mi mensaje</p>
				</section>

				<section>
					<h2>hashes criptogr√°ficos</h2>
					<p class="fragment"><code>H: {0,1}<sup>n</sup> &rarr; {0,1}<sup>m</sup><br/>n: cualquier valor, m: fijo</code></p>
				</section>

				<section>
					<h2>hashes criptogr√°ficos</h2>
					<br/>
					<pre class="fragment"><code>h("")             = d41d8cd98f00b204e9800998ecf8427e</code></pre>
					<pre class="fragment"><code>h("hola pianola") = ba5ba94503a131c30b74b38ed79f8ca7</code></pre>
					<pre class="fragment"><code>h("hola pianol<span class="yellow">o</span>") = b7cddeb1e96f4849abd0c2f85be3e842</code></pre>
					<pre class="fragment"><code>h(&lt;archivo 5 GB&gt;) = xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</code></pre>
					<br/>
					<p class="fragment"><code>H(m) = h</code></p>
					<p class="fragment">Hallar <code>m</code> tal que <code>H(m) = d2419fa03f565dc7f8b31ed0539d151c</code></p>
					<p class="fragment">üí£</p>
				</section>

				<section>
					<h2>hashes criptogr√°ficos</h2>
					<p class="fragment red">MD4 / MD5 (128 bits)</p>
					<p class="fragment" style="color: orange">SHA-1 (160 bits)</p>
					<p class="fragment green">SHA-2 (224 / 256 / 384 / 512)</p>
					<p class="fragment"><span class="green">SHA-3 (224 / 256 / 384 / 512) </span><br/><small>keccak / RadioGat√∫n</small></p>
				</section>

				<section>
					<h2>Message Authentication Code (MAC)</h2>
					<p class="fragment">hash criptogr√°fico <span class="yellow">con clave</span></p>
					<p class="fragment">proveen <strong class="yellow">integridad y autenticaci√≥n</strong> a un mensaje</p>
					<p class="fragment">es computacionalmente imposible modificar el mensaje y tambi√©n el MAC</p>
				</section>

				<section>
					<h2>HMAC</h2>
					<p class="fragment">basado en hashes criptogr√°ficos</p>
					<p class="fragment">HMAC(k, m) = h(k ‚äï opad || h(k ‚äï ipad || m)</p>
					<img class="fragment" src="img/hmac.jpg" height="500" />
				</section>

				<section>
					<h2>Otros tipos de MAC</h2>
					<br/>
					<div class="fragment">
						<p>OMAC</p>
						<p>CBC-MAC</p>
						<p>PMAC</p>
						<p><br/>basados en block ciphers</p>
					</div>
				</section>

				<section>
					<h2>Tengo el MAC, ¬øy ahora?</h2>
					<div class="fragment">
						<p>encrypt-and-mac</p>
						<p>E<sub>k</sub>(m) || MAC<sub>k</sub>(m)</p>
						<p class="fragment red">MAC puede filtrar info de <code>m</code></p>
					</div>
					<div class="fragment">
						<hr/>
						<p>mac-then-encrypt</p>
						<p>E<sub>k</sub>(m || MAC<sub>k</sub>(m))</p>
						<p class="fragment" style="color: orange;">puede fallar</p>
					</div>
					<div class="fragment">
						<hr/>
						<p>encrypt-then-mac</p>
						<p>E<sub>k</sub>(m) || MAC<sub>k</sub>(E<sub>k</sub>(m))</p>
						<p class="fragment green">siempre correcto</p>
					</div>
				</section>

				<section>
					<h2>Caso pr√°ctico #1</h2>
					<p>guardar passwords en la DB</p>
					<div class="fragment">
						<p><br/>hay que asumir el hacker (o topo) podr√≠a tener acceso a <em>TODO</em>:</p>
						<p>db, c√≥digo, filesystem, ...</p>
					</div>
				</section>

				<section>
					<h2>Caso pr√°ctico #1</h2>
					<p>guardar passwords en la DB</p>
					<br/>
					<p class="fragment">
						ROT-26
						<span class="fragment red">horrible</span>
					</p>
					<p class="fragment">
						encriptado con algo sim√©trico
						<span class="fragment red">no suma si tienen el c√≥digo</span>
					</p>
					<p class="fragment">
						encriptado con algo asim√©trico
						<span class="fragment red">no suma si tienen el c√≥digo</span>
					</p>
					<p class="fragment">
						hash
						<span class="fragment red">f√°cil con rainbow tables</span>
					</p>
					<p class="fragment">
						hash + salt √∫nico
						<span class="fragment red">f√°cil con mucho CPU</span>
					</p>
					<p class="fragment">
						hash + salt por registro
						<span class="fragment" style="color: orange;">dif√≠cil, con mucho CPU</span>
					</p>
					<p class="fragment">
						multihash + salt por registro
						<span class="fragment green">muy dif√≠cil</span>
					</p>
					<p class="fragment">
						bcrypt, scrypt
						<span class="fragment green">muy dif√≠cil</span>
					</p>
				</section>

				<section>
					<h2>Caso pr√°ctico #2</h2>
					<p>Ocultar datos en una URL</p>
					<p class="fragment"><code>www.pepe.com/view?id=<span class="yellow">123</span></code></p>
					<p class="fragment"><strong class="red">no reemplaza a control de accesos en el server</strong></p>
					<p class="fragment">
						ofuscaci√≥n sencilla (ROT-13, base64, etc.)
					</p>
					<p class="fragment">
						hash simple (<em>pseudo firma</em>)
						&rarr; 
						<code>view?id=<span class="yellow">123&amp;sig=<em>h(123)</em></span></code>
					</p>
					<p class="fragment">
						hash complejo (con salt)
						&rarr;
						<strong class="red">¬°ojo!</strong> se expone <code>m</code> y <code>h(m)</code>
					</p>
					<p class="fragment">
						algoritmo sim√©trico
						&rarr;
						<code>view?id=<span class="yellow"><em>E(123)</em></span></code>
					</p>
				</section>

				<section>
					<img src="img/etpa.jpg" />
					<p>Si a√∫n queda tiempo, pasa a la siguiente p√°gina</p>
					<p>Si te quedaste sin tiempo, huye antes que te tiren tomates</p>
					<p class="fragment">(risas)</p>
				</section>

				<section>
					<h2>one-time passwords</h2>
					<h4 class="fragment"><em>&quot;towards strong authentication&quot;</em></h4>
					<p class="fragment">no confundir con <em style="color: cyan">one time pad</em></p>
					<br/>
					<p class="fragment">claves est√°ticas = replay attack</p>
					<p class="fragment">OTP: challenge &rarr; response</p>
					<p class="fragment">sirven para <em>una</em> sesi√≥n</p>
					<p class="fragment">no importa si alguien me pispea la clave</p>
				</section>

				<section>
					<h2>one-time passwords</h2>
					<p class="fragment">server y cliente comparten una clave privada <code style="color: orange">k</code></p>
					<p class="fragment"><strong>HOPT</strong> &mdash; HMAC-based One-Time Password</p>
					<p class="fragment"><em>counter based</em></p>
					<p class="fragment">el challenge, groso modo: </p>
					<p class="fragment">encript√° el contador <code style="color: orange">c</code> con la clave <code style="color: orange">k</code> y decime cu√°nto te dio</p>
					<p class="fragment">si los valores coinciden, el usuario es aut√©ntico</p>
					<br/>
					<p class="fragment"><code>HOTP(k,c) = truncate(HMAC(k,c)) &amp; 0x7FFFFFFF</code></p>
				</section>

				<section>
					<h2>one-time passwords</h2>
					<p class="fragment"><strong>TOPT</strong> &mdash; Time-based One-Time Password</p>
					<p class="fragment"><em>time based</em></p>
					<p class="fragment">el challenge, groso modo: </p>
					<p class="fragment">encript√° la hora actual <code style="color: orange">t</code> con la clave <code style="color: orange">k</code> y decime cu√°nto te dio</p>
					<p class="fragment">si los valores coinciden, el usuario es aut√©ntico</p>
					<br/>
					<p class="fragment"><code>TOTP(k) = HOTP(k, <em>f</em>(ts))</code></p>
					<p class="fragment"><code>f=</code> intervalos de 30 segundos, y ventanas de chang√º√≠</p>
				</section>

				<section>
					<img src="img/securid.gif" align="center" />
					<img src="img/googleauth.png" height="600" />
				</section>

				<section>
					<h1>FIN</h1>
					<small>ahora si</small>
					<h3>¬°Muchas gracias!</h3>
					<br/>
					<h2>¬ø ?</h2>
					<p> Andres Quijano / <a href="http://twitter.com/quixote_arg">@quixote_arg</a> </p>
				</section>
			</div>
		</div>

		<script src="js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>
			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: false,
				history: true,
				center: true,

				theme: "night",
				transition: "linear"
			});
		</script>
	</body>
</html>
